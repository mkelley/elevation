<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="moment.min.js"></script>
    <script src="moment-timezone-with-data-2010-2020.min.js"></script>
    <script src="http://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>
    <script src="http://cdn.datatables.net/plug-ins/1.10.12/sorting/natural.js"></script>
    <link rel="stylesheet" href="prototype.css">
  </head>
  <body>
    <h1>Elevation Prototype</h1>

    <div id="elevation-plot" style="margin: 5px; height: 75vh;"></div>
    <p class="small">Airmass guides at 1.3, 2, and 3; Sky brightness
      guides at astronomical twilight, civil twilight, and daylight.</p>

    <div class="box">
      <div id="elevation-console">
      </div>
    </div>

    <div class="box overflowx" id="elevation-target-table-box">
      <h2>Target table</h2>

      <div class="elevation-ui">
	<select id="elevation-row-selection">
	  <option value="select">Select...</option>
	  <option value="all">All</option>
	  <option value="none">None</option>
	  <option value="airmass">Airmass &gt; limit/option>
	  <option value="dark">Dark time &gt; 0</option>
	</select>
	<button id="elevation-plot-selected">Plot selected</button>
	<button id="elevation-clear-plot">Clear plot</button>
	<button id="elevation-clear-table">Clear table</button>
      </div>

      <table id="elevation-target-table">
	<thead>
	  <tr>
	    <th></th>
	    <th style="width: 12em;">Target</th>
	    <th>RA (hr)</th>
	    <th>Dec (&deg;)</th>
	    <th>m<sub>V</sub></th>
	    <th>r<sub>h</sub> (au)</th>
	    <th>&Delta; (au)</th>
	    <th>d&Delta;/dt (km/s)</th>
	    <th>Phase (&deg;)</th>
	    <th>Elong. (&deg;)</th>
	    <th>&mu; (''/hr)</th>
	    <th>Transit (<span class="elevation-time-axis">CT</span>)</th>
	    <th>&lt;AM limit (hr)</th>
	    <th>and dark (hr)</th>
	</thead>
	<tbody>
	</tbody>
      </table>

      <div class="elevation-ui">
	<p>
	  <input type="text" class="add-moving-target-on-enter" id="elevation-add-moving-target-name">
	  <select id="elevation-add-moving-target-type">
	    <option value="a">Asteroid</option>
	    <option value="c" selected>Comet</option>
	    <option value="p">Planet</option>
	  </select>
	  <button id="elevation-add-moving-target-button">Add moving target</button>
	</p>
	<p>
	  <input type="text" class="add-fixed-target-on-enter" id="elevation-add-fixed-target-name">
	  <input type="text" class="add-fixed-target-on-enter" id="elevation-add-fixed-target-ra">
	  <input type="text" class="add-fixed-target-on-enter" id="elevation-add-fixed-target-dec">
	  <button id="elevation-add-fixed-target-button">Add fixed target</button>
	</p>
	<p><input id="elevation-open-file" type="file"></p>

	<p><button id="elevation-check-ephemeris-availability">Check ephemeris availability</button></p>

      </div>
    </div>

    <div class="box">
      <h2>Observatory and date</h2>
      <p>
	Date: <input type="date" id="elevation-date"><span class="elevation-ui"> (e.g., YYYY-MM-DD)</span>
      </p>
      <p>
	Observatory:
        <input type="text" min="-90", max="+90" step="any" id="elevation-observatory-name" value="DCT">
        <input class="latlon" type="number" min="-90", max="+90" step="any" id="elevation-observatory-latitude" value="34.7444">&deg;N
        <input class="latlon" type="number" min="-360", max="+360" step="any" id="elevation-observatory-longitude" value="-111.4223">&deg;E
        <input class="tz" type="text" id="elevation-timezone" value="US/Arizona">
      </p>
      <p>
	Airmass limit for target table:
	<input type="number", min="1.0", max="10", step="0.1", id="elevation-airmass-limit" value="2.0"> = <span id="elevation-altitude-limit"></span>&deg; altitude.
      </p>
      <p>
	<input type="checkbox" id="elevation-xaxis-ut"> Use Universal Time for x-axis.
      </p>
      <div class="elevation-ui">
	<p>
	  <button class="elevation-observatory" data-latitude="19.8208" data-longitude="-155.4681" data-timezone="US/Hawaii">MKO</button>
	  <button class="elevation-observatory" data-latitude="34.7444" data-longitude="-111.4223" data-timezone="US/Arizona">DCT</button>
	  <button class="elevation-observatory" data-latitude="30.6797" data-longitude="-104.0248" data-timezone="US/Central">McDonald</button>
	  <button class="elevation-observatory" data-latitude="39.0020" data-longitude="-76.9561" data-timezone="US/Eastern">UMD</button>
	  <button class="elevation-observatory" data-latitude="-30.1716" data-longitude="-70.8009" data-timezone="America/Santiago">CTIO</button>
	  <button class="elevation-observatory" data-latitude="-24.6275" data-longitude="-70.4044" data-timezone="America/Santiago">VLT</button>
	  <button class="elevation-observatory" data-latitude="28.7569" data-longitude="-17.8925" data-timezone="Atlantic/Canary">La Palma</button><br>
	</p>
	<p>
	  <button id="elevation-update-observatory-button">Update plot</button>
	</p>
      </div>
    </div>
    
    <div class="box elevation-ui">
      <h2>Target input</h2>
      <ul>
	<li>Columns: Target, Type, RA, Dec, Notes.</li>
	<li>Type: c, a, p, f for comet, asteroid, planet, or fixed.</li>
	<li>RA and Dec may be any sensible format, e.g., -12, -12d 34m,
	12h34m56s, 12:34:56.78.</li>
	<li>RA and Dec is ignored for Solar System targets.</li>
      </ul>
      <p>Comet names are from the IMCCE <a href="ftp://ftp.imcce.fr/pub/databases/cometpro/COMNAME.csv">comet database</a>.</p>

      <textarea rows="20" cols="72" id="elevation-target-list">
# Target, Type, RA, Dec, Notes
2P,c,,,V=16 color
6P,c,,,V=14 color
10P,c,,,V=19 r
22P,c,,,V=17 color
41P,c,,,V=18 r
53P,c,,,V=16 color
56P,c,,,V=16 color
87P,c,,,V=23 r
88P,c,,,V=20 r
C/2011 KP36,c,,,V=14 color
C/2012 K1,c,,,V=19 r
C/2013 US10,c,,,V=16 color
C/2015 YY6,c,,,V=16 color (YY6 == VL62)
C/2015 V2,c,,,V=13 OH+color

# tough twilight comets
C/2013 A1,c,,,V=22 r
C/2014 Q2,c,,,V=20 r
C/2016 M1,c,,,V=18 r
</textarea>
      <p class="elevation-ui">
	<button id="elevation-load-button">Load into table</button>
      </p>
    </div>

    <div class="box elevation-ui">
      <h2>Pre-defined target lists</h2>
      <p>
	Cometary Orbital Trends
	<button class="elevation-load-target-set-button"
		data-targets="2P,c
6P,c
9P,c
10P,c
15P,c
19P,c
22P,c
46P,c
67P,c
71P,c
73P-C,c
73P-B,c
81P,c
88P,c
103P,c
C/2013 A1,c
C/2013 US10,c
C/2013 X1,c
C/2014 Q2,c
#C/2014 Q3,c
C/2015 V2,c
C/2015 YY6,c,,,(YY6 == VL62)
C/2016 M1,c">
	  Spitzer targets
	</button>
      </p>

      <p>
	<button class="elevation-load-target-set-button"
		data-targets="41P,c
45P,c
46P,c">
	  Close approachers
	</button>
      </p>

      <p>
	<button class="elevation-load-target-set-button"
		data-targets="2P,c
4P,c
15P,c
21P,c
37P,c
41P,c
45P,c
46P,c
62P,c
64P,c
67P,c
68P,c
71P,c
73P,c
87P,c
88P,c
115P,c
141P,c
213P,c
260P,c">
	  Fegea SSO16
	</button>
      </p>

      <p>
	<button class="elevation-load-target-set-button"
		data-targets="29P,c
41P,c
45P,c
53P,c
65P,c
71P,c
81P,c
C/2011 KP36,c
C/2013 X1,c
C/2014 S2,c
C/2014 W2,c
C/2015 F4,c
C/2015 O1,c
C/2015 V2,c
C/2015 YY6,c
C/2016 M1,c
#9P,c
#17P,c
#67P,c
#100P,c
#117P,c
#230P,c
#252P,c
#C/2010 S1,c
#C/2011 J2,c
#C/2012 K1,c
#C/2013 A1,c
#C/2013 US10,c
#C/2014 N3,c
#C/2014 Q2,c">
	  Protopapa ice
	</button>
      </p>

      <p>
	<button class="elevation-load-target-set-button"
		data-targets="6P,c
10P,c
15P,c
19P,c
22P,c
41P,c
45P,c
67P,c
71P,c
88P,c
C/2013 A1,c
C/2013 US10,c
C/2013 X1,c
C/2014 Q2,c
C/2015 V2,c
C/2015 YY6,c,,,(YY6 == VL62)
C/2016 M1,c">
	  Lowell 2017Q1
	</button>
      </p>

      <p>
	<button class="elevation-load-target-set-button"
		data-targets="# HB filter B-type flux standards, Farnham et al. 2000
  3379, f, 00:36:47.24, +15:13:54.5, V=5.89 a
  6815, f, 01:08:55.72, +09:43:49.4, V=7.30
 14951, f, 02:24:48.92, +10:36:38.9, V=5.46
 19712, f, 03:10:18.03, -01:41:40.7, V=7.35
 26912, f, 04:15:31.93, +08:53:33.5, V=4.27
 31331, f, 04:54:50.63, +00:28:02.6, V=5.99
 37112, f, 05:36:03.50, -00:46:48.6, V=8.02 c
 52266, f, 07:00:21.05, -05:49:36.7, V=7.23
 68099, f, 08:11:16.56, +09:49:16.9, V=6.07
 72526, f, 08:33:25.29, -00:18:29.1, V=7.93
 74280, f, 08:43:13.48, +03:23:55.2, V=4.30 a
 89688, f, 10:21:01.97, +02:17:23.1, V=6.68 a d
 97991, f, 11:16:11.55, -03:28:19.6, V=7.41 e
120086, f, 13:47:19.13, -02:26:36.8, V=7.90 a
129956, f, 14:45:30.26, +00:43:02.8, V=5.70
149363, f, 16:34:28.22, -06:08:09.4, V=7.80
154445, f, 17:05:32.14, -00:53:31.6, V=5.64
164852, f, 18:02:22.98, +20:50:01.3, V=5.27
170783, f, 18:31:04.35, +04:37:37.4, V=7.73
187350, f, 19:49:33.40, -01:06:03.1, V=8.14 b
191263, f, 20:08:38.16, +10:43:32.5, V=6.33
205130, f, 21:33:35.23, -09:39:38.1, V=7.88 f
209008, f, 22:00:07.78, +06:43:02.1, V=6.00
219188, f, 23:14:00.48, +04:59:49.6, V=7.05

# Notes:
#  a)  Variable star  (delta m < 0.05)
#  b)  Emission line star
#  c)  Nearby bright star:   1.7 mag,   142'' E, 1518'' S.
#  d)  Nearby star:   8.9 mag    200'' W, 220'' N.
#  e)  Nearby bright star:   4.6 mag,   420'' E,  645'' S.
#  f)  Nearby star:   9.2 mag,  325'' W,  156.5'' N.
">
	  HB filter standards
	</button>
      </p>

      
    </div>

  </body>
  <script type="text/javascript" src="elevation.js"></script>
</html>
